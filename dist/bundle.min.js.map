{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///bundle.min.js","webpack:///webpack/bootstrap 7462b5260bcb33373f24","webpack:///./src/iris.worm.js","webpack:///./src/_entry.js","webpack:///./src/event-emitter.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_extends","assign","target","arguments","length","source","key","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","_eventEmitter","_eventEmitter2","obj","default","Worm","div","options","undefined","_rootDiv","_options","DEFAULT_OPTIONS","_canvas","document","createElement","width","height","className","CSS_CONTAINER","_ctx","getContext","appendChild","_value","_metaValue","_oldMetaValue","_momentum","_active","accessibilityBroadcast","_fallbackDom","setAttribute","maxValue","smoothMode","colorMode","acceleration","lineWidth","_draw","requestAnimationFrame","bind","_moveViewport","_drawPoint","_resolveValues","distanceToValue","Math","abs","MAX_MOMENTUM","imageData","getImageData","putImageData","clearRect","color","colorUnit","bad","floor","_scaleValue","good","strokeStyle","beginPath","moveTo","lineTo","stroke","scale","NAME","VERSION","indexOf","remove","eventName","callback","self","on","a","b","newValue","innerText","emit","optionName","optionValue","_iris","_iris2","EventEmitter","logger","_events","push","arg1","arg2","arg3","forEach","fn"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IRISWorm\"] = factory();\n\telse\n\t\troot[\"IRISWorm\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IRISWorm\"] = factory();\n\telse\n\t\troot[\"IRISWorm\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventEmitter = __webpack_require__(2);\n\nvar _eventEmitter2 = _interopRequireDefault(_eventEmitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Worm = function () {\n  _createClass(Worm, [{\n    key: 'NAME',\n    get: function get() {\n      'IRIS Worm';\n    }\n  }, {\n    key: 'VERSION',\n    get: function get() {\n      return null;\n    } // TODO\n\n  }, {\n    key: 'CSS_CONTAINER',\n    get: function get() {\n      return 'irisWorm';\n    }\n  }, {\n    key: 'MAX_MOMENTUM',\n    get: function get() {\n      return 5;\n    }\n  }], [{\n    key: 'DEFAULT_OPTIONS',\n    get: function get() {\n      return {\n        // The width of the component\n        width: 600,\n\n        // The height of the component\n        height: 400,\n\n        // The maximum value that can be set in the component (used for scaling) -\n        // defaults to 100, meaning that \"100\" is the \"Top of the worm\".\n        maxValue: 100,\n\n        // When a value changes, the worm will accelerate towards that value smoothly\n        // if smoothMode is set to true, otherwise it will jump straight to it.\n        smoothMode: true,\n\n        // Color mode: options are: 'greenIsGood', 'greenIsBad', 'monochrome'\n        colorMode: 'greenIsGood',\n\n        // How quickly the worm accelerates towards its target (NOTE: this value really is only useful if you keep it\n        // below 1, otherwise you might as well just use smoothMode: false and have it instantly jumping)\n        acceleration: 0.1,\n\n        // How thick the line is\n        lineWidth: 5,\n\n        //how insistant the aria-live tag is. Default is polite;\n        //options are: off, polite, assertive\n        accessibilityBroadcast: 'polite'\n      };\n    }\n  }]);\n\n  /**\n   * Constructs a new IRIS Worm instance.\n   * @class IRIS.Worm\n   * @constructor Worm\n   * @example\n   *      new IRIS.Worm(div, options);\n   * @param {HTMLDivElement} div the div in which the visualisation will be rendered, e.g. '#map'\n   * @param options visualisation options (see 'options' property)\n   */\n  function Worm(div) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Worm);\n\n    this._rootDiv = div;\n    this._options = _extends({}, Worm.DEFAULT_OPTIONS, options);\n\n    // create canvas and context\n    this._canvas = document.createElement('canvas');\n    this._canvas.width = this._options.width;\n    this._canvas.height = this._options.height;\n    this._canvas.className = this.CSS_CONTAINER;\n    this._ctx = this._canvas.getContext('2d');\n    this._rootDiv.appendChild(this._canvas);\n\n    this._value = 50;\n    this._metaValue = 50;\n    this._oldMetaValue = 50;\n    this._momentum = 0.0;\n    this._active = false;\n\n    //create fallback DOM and add aria roles if the accessibilityBroadcast option isn't disabled\n    if (this._options.accessibilityBroadcast !== 'off') {\n      this._fallbackDom = document.createElement('span');\n      this._fallbackDom.setAttribute('role', 'alert');\n      this._fallbackDom.setAttribute('aria-live', this._options.accessibilityBroadcast);\n      this._fallbackDom.setAttribute('style', 'position:absolute;width:1px;' + '' + 'height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);');\n      this._rootDiv.appendChild(this._fallbackDom);\n    }\n\n    // Events\n    this._eventEmitter = new _eventEmitter2.default();\n  }\n\n  _createClass(Worm, [{\n    key: 'start',\n    value: function start() {\n      this._ctx.lineWidth = this._options.lineWidth;\n      this._active = true;\n      this._draw();\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this._active = false;\n    }\n  }, {\n    key: '_draw',\n    value: function _draw() {\n      if (this._active) {\n        requestAnimationFrame(this._draw.bind(this));\n        this._moveViewport();\n        this._drawPoint();\n        this._resolveValues();\n      }\n    }\n  }, {\n    key: '_resolveValues',\n    value: function _resolveValues() {\n\n      if (this._options.smoothMode) {\n        var distanceToValue = Math.abs(this._value - this._metaValue);\n\n        if (distanceToValue < 0.1) {\n          this._metaValue = this._value;\n          this._momentum = 0;\n          return;\n        } else {\n          if (this._value < this._metaValue) {\n            if (this._momentum >= -this.MAX_MOMENTUM) {\n              this._momentum -= this._options.acceleration;\n            }\n          }\n          if (this._value > this._metaValue) {\n            if (this._momentum <= this.MAX_MOMENTUM) {\n              this._momentum += this._options.acceleration;\n            }\n          }\n\n          this._metaValue += this._momentum * distanceToValue / 100;\n        }\n        this._oldMetaValue = this._metaValue;\n      } else {\n        this._oldMetaValue = this._metaValue;\n        this._metaValue = this._value;\n      }\n    }\n  }, {\n    key: '_moveViewport',\n    value: function _moveViewport() {\n      var imageData = this._ctx.getImageData(1, 0, this._options.width - 1, this._options.height);\n      this._ctx.putImageData(imageData, 0, 0);\n      this._ctx.clearRect(this._options.width - 1, 0, 1, this._options.height);\n\n      // this thing is known to be leaky so let's force explicit garbage collecion.\n      imageData = null;\n    }\n  }, {\n    key: '_drawPoint',\n    value: function _drawPoint() {\n\n      var colorUnit = 255 / this._options.height;\n      var bad = Math.floor(colorUnit * this._scaleValue(this._metaValue));\n      var good = 255 - Math.floor(colorUnit * this._scaleValue(this._metaValue));\n      var color;\n\n      switch (this._options.colorMode) {\n        case 'monochrome':\n          color = 'rgb(0,0,0)';\n          break;\n        case 'greenIsBad':\n          color = 'rgb(' + good + ',' + bad + ',0)';\n          break;\n        case 'greenIsGood':\n        default:\n          color = 'rgb(' + bad + ',' + good + ',0)';\n      }\n\n      this._ctx.strokeStyle = color;\n\n      this._ctx.beginPath();\n      this._ctx.moveTo(this._options.width, this._scaleValue(this._metaValue));\n      this._ctx.lineTo(this._options.width - 1, this._scaleValue(this._oldMetaValue));\n      this._ctx.stroke();\n    }\n  }, {\n    key: '_scaleValue',\n    value: function _scaleValue(value) {\n      var scale = this._options.height / this._options.maxValue;\n\n      return this._options.height - value * scale;\n    }\n\n    /**\n     * Returns the name (and version, if available) of this widget.\n     *\n     * @private\n     * @method _getName\n     * @returns {string} name (and version, if available) of this widget\n     */\n\n  }, {\n    key: '_getName',\n    value: function _getName() {\n      var name = this.NAME;\n      // if we appear to have a version\n      if (this.VERSION.indexOf('<%=') !== 0) {\n        name = this.NAME + ' ' + this.VERSION;\n      }\n      return name;\n    }\n\n    /**\n     * Deconstructor\n     *\n     * @public\n     * @method destroy\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      if (typeof this._canvas !== 'undefined' && this._canvas != null) {\n        this._canvas.remove();\n        delete this._canvas;\n      }\n    }\n\n    /**\n     * Hook into a worm event.\n     *\n     * @public\n     * @method on\n     * @param {string} eventName the event to hook into\n     * @param {function} callback the callback to run\n     * @returns {null}\n     */\n\n  }, {\n    key: 'on',\n    value: function on(eventName, callback) {\n      var self = this;\n      this._eventEmitter.on(eventName, function (a, b, c) {\n        return callback.call(self, a, b, c);\n      });\n    }\n\n    /**\n     * Sets the value\n     *\n     * @public\n     * @method setValue\n     * @param {number} optionValue value to set the option to\n     * @returns {null}\n     */\n\n  }, {\n    key: 'setValue',\n    value: function setValue(newValue) {\n\n      if (newValue > this._options.maxValue) {\n        newValue = this._options.maxValue;\n      }\n      if (this._options.accessibilityBroadcast !== 'off') {\n        if (this._fallbackDom && this._fallbackDom.remove) {\n          this._fallbackDom.remove();\n          this._fallbackDom.innerText = 'worm value is ' + newValue;\n          this._rootDiv.appendChild(this._fallbackDom);\n        }\n      }\n\n      if (newValue > this._value) {\n        this._eventEmitter.emit('valueIncreased', this._value, newValue);\n      }\n      if (newValue < this._value) {\n        this._eventEmitter.emit('valueDecreased', this._value, newValue);\n      }\n      if (newValue <= 0) {\n        this._eventEmitter.emit('valueBecameMinimum', this._value);\n      }\n      if (newValue >= this._options.maxValue) {\n        this._eventEmitter.emit('valueBecameMaximum', this._value);\n      }\n\n      if (newValue <= 0) {\n        this._eventEmitter.emit('valueBecameMinimum', this._value);\n      }\n\n      this._value = newValue;\n      this._momentum = 0;\n      this._eventEmitter.emit('valueChanged', this._value);\n    }\n\n    /**\n     * Gets the value\n     *\n     * @public\n     * @method getValue\n     * @returns {number} the current value\n     */\n\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this._value;\n    }\n\n    /**\n     * Sets the value for the specified option.\n     *\n     * @public\n     * @method setOption\n     * @param {string} optionName name of the option to set a value for\n     * @param {object} optionValue value to set the option to\n     * @returns {null}\n     */\n\n  }, {\n    key: 'setOption',\n    value: function setOption(optionName, optionValue) {\n      this._options[optionName] = optionValue;\n    }\n\n    /**\n     * Returns the value for the specified option.\n     *\n     * @public\n     * @method getOption\n     * @param {string} optionName name of the option to retrieve a value for\n     * @returns {object} the value of the specified option\n     */\n\n  }, {\n    key: 'getOption',\n    value: function getOption(optionName) {\n      return this._options[optionName];\n    }\n  }]);\n\n  return Worm;\n}();\n\nexports.default = Worm;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Worm = undefined;\n\nvar _iris = __webpack_require__(0);\n\nvar _iris2 = _interopRequireDefault(_iris);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Worm = exports.Worm = _iris2.default;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventEmitter = function () {\n  function EventEmitter(logger) {\n    _classCallCheck(this, EventEmitter);\n\n    this._events = {};\n  }\n\n  /**\n   * Sets a listener for the specified event name.\n   *\n   * @public\n   * @method on\n   * @param {string} eventName name of the event to listen to.\n   * @param {function} callback function to call when the event occurs.\n   */\n\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(eventName, callback) {\n      this._events[eventName] = this._events[eventName] || [];\n      this._events[eventName].push(callback);\n    }\n\n    /**\n     * Sets a listener for the specified event name.\n     *\n     * @public\n     * @method emit\n     * @param {string} eventName name of the event to emit.\n     * @param {any} arg1, arg2, arg3 arguments to yield to the functioun\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit(eventName, arg1, arg2, arg3) {\n      (this._events[eventName] || []).forEach(function (fn) {\n        fn && fn(arg1, arg2, arg3);\n      });\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// bundle.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7462b5260bcb33373f24","import EventEmitter from './event-emitter';\n\nexport default class Worm {\n\n  get NAME() {\n    'IRIS Worm'\n  };\n  get VERSION() {\n    return null\n  } // TODO\n  get CSS_CONTAINER() {\n    return 'irisWorm'\n  };\n  get MAX_MOMENTUM() {\n    return 5\n  };\n\n  static get DEFAULT_OPTIONS() {\n    return {\n      // The width of the component\n      width: 600,\n\n      // The height of the component\n      height: 400,\n\n      // The maximum value that can be set in the component (used for scaling) -\n      // defaults to 100, meaning that \"100\" is the \"Top of the worm\".\n      maxValue: 100,\n\n      // When a value changes, the worm will accelerate towards that value smoothly\n      // if smoothMode is set to true, otherwise it will jump straight to it.\n      smoothMode: true,\n\n      // Color mode: options are: 'greenIsGood', 'greenIsBad', 'monochrome'\n      colorMode: 'greenIsGood',\n\n      // How quickly the worm accelerates towards its target (NOTE: this value really is only useful if you keep it\n      // below 1, otherwise you might as well just use smoothMode: false and have it instantly jumping)\n      acceleration: 0.1,\n\n      // How thick the line is\n      lineWidth: 5,\n\n      //how insistant the aria-live tag is. Default is polite;\n      //options are: off, polite, assertive\n      accessibilityBroadcast: 'polite'\n    }\n  };\n\n  /**\n   * Constructs a new IRIS Worm instance.\n   * @class IRIS.Worm\n   * @constructor Worm\n   * @example\n   *      new IRIS.Worm(div, options);\n   * @param {HTMLDivElement} div the div in which the visualisation will be rendered, e.g. '#map'\n   * @param options visualisation options (see 'options' property)\n   */\n  constructor(div, options = {}) {\n    this._rootDiv = div;\n    this._options = Object.assign({}, Worm.DEFAULT_OPTIONS, options);\n\n    // create canvas and context\n    this._canvas = document.createElement('canvas');\n    this._canvas.width = this._options.width;\n    this._canvas.height = this._options.height;\n    this._canvas.className = this.CSS_CONTAINER;\n    this._ctx = this._canvas.getContext('2d');\n    this._rootDiv.appendChild(this._canvas);\n\n    this._value = 50;\n    this._metaValue = 50;\n    this._oldMetaValue = 50;\n    this._momentum = 0.0;\n    this._active = false;\n\n    //create fallback DOM and add aria roles if the accessibilityBroadcast option isn't disabled\n    if (this._options.accessibilityBroadcast !== 'off') {\n      this._fallbackDom = document.createElement('span');\n      this._fallbackDom.setAttribute('role', 'alert');\n      this._fallbackDom.setAttribute('aria-live', this._options.accessibilityBroadcast);\n      this._fallbackDom.setAttribute('style', 'position:absolute;width:1px;' + '' +\n        'height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);');\n      this._rootDiv.appendChild(this._fallbackDom);\n    }\n\n    // Events\n    this._eventEmitter = new EventEmitter();\n  }\n\n  start() {\n    this._ctx.lineWidth = this._options.lineWidth;\n    this._active = true;\n    this._draw();\n  }\n\n  stop() {\n    this._active = false;\n  }\n\n  _draw() {\n    if (this._active) {\n      requestAnimationFrame(this._draw.bind(this));\n      this._moveViewport();\n      this._drawPoint();\n      this._resolveValues();\n    }\n  }\n\n  _resolveValues() {\n\n    if (this._options.smoothMode) {\n      var distanceToValue = Math.abs(this._value - this._metaValue);\n\n      if (distanceToValue < 0.1) {\n        this._metaValue = this._value;\n        this._momentum = 0;\n        return;\n      } else {\n        if (this._value < this._metaValue) {\n          if (this._momentum >= -this.MAX_MOMENTUM) {\n            this._momentum -= this._options.acceleration;\n          }\n        }\n        if (this._value > this._metaValue) {\n          if (this._momentum <= this.MAX_MOMENTUM) {\n            this._momentum += this._options.acceleration;\n          }\n        }\n\n        this._metaValue += (this._momentum * distanceToValue) / 100;\n      }\n      this._oldMetaValue = this._metaValue;\n    } else {\n      this._oldMetaValue = this._metaValue;\n      this._metaValue = this._value;\n    }\n\n  }\n\n  _moveViewport() {\n    var imageData = this._ctx.getImageData(1, 0, this._options.width - 1, this._options.height);\n    this._ctx.putImageData(imageData, 0, 0);\n    this._ctx.clearRect(this._options.width - 1, 0, 1, this._options.height);\n\n    // this thing is known to be leaky so let's force explicit garbage collecion.\n    imageData = null;\n  }\n\n  _drawPoint() {\n\n    var colorUnit = (255 / this._options.height);\n    var bad = Math.floor(colorUnit * this._scaleValue(this._metaValue));\n    var good = 255 - Math.floor(colorUnit * this._scaleValue(this._metaValue));\n    var color;\n\n    switch (this._options.colorMode) {\n      case 'monochrome':\n        color = 'rgb(0,0,0)';\n        break;\n      case 'greenIsBad':\n        color = 'rgb(' + good + ',' + bad + ',0)';\n        break;\n      case 'greenIsGood':\n      default:\n        color = 'rgb(' + bad + ',' + good + ',0)';\n    }\n\n    this._ctx.strokeStyle = color;\n\n    this._ctx.beginPath();\n    this._ctx.moveTo(this._options.width, this._scaleValue(this._metaValue));\n    this._ctx.lineTo(this._options.width - 1, this._scaleValue(this._oldMetaValue));\n    this._ctx.stroke();\n  }\n\n  _scaleValue(value) {\n    var scale = this._options.height / this._options.maxValue;\n\n\n    return this._options.height - (value * scale);\n  }\n\n  /**\n   * Returns the name (and version, if available) of this widget.\n   *\n   * @private\n   * @method _getName\n   * @returns {string} name (and version, if available) of this widget\n   */\n  _getName() {\n    var name = this.NAME;\n    // if we appear to have a version\n    if (this.VERSION.indexOf('<%=') !== 0) {\n      name = this.NAME + ' ' + this.VERSION;\n    }\n    return name;\n  }\n\n  /**\n   * Deconstructor\n   *\n   * @public\n   * @method destroy\n   */\n  destroy() {\n    if (typeof this._canvas !== 'undefined' && this._canvas != null) {\n      this._canvas.remove();\n      delete this._canvas;\n    }\n  }\n\n\n  /**\n   * Hook into a worm event.\n   *\n   * @public\n   * @method on\n   * @param {string} eventName the event to hook into\n   * @param {function} callback the callback to run\n   * @returns {null}\n   */\n  on(eventName, callback) {\n    var self = this;\n    this._eventEmitter.on(eventName, (a, b, c) => callback.call(self, a, b, c));\n  }\n\n\n  /**\n   * Sets the value\n   *\n   * @public\n   * @method setValue\n   * @param {number} optionValue value to set the option to\n   * @returns {null}\n   */\n  setValue(newValue) {\n\n    if (newValue > this._options.maxValue) {\n      newValue = this._options.maxValue;\n    }\n    if (this._options.accessibilityBroadcast !== 'off') {\n      if (this._fallbackDom && this._fallbackDom.remove) {\n        this._fallbackDom.remove();\n        this._fallbackDom.innerText = 'worm value is ' + newValue;\n        this._rootDiv.appendChild(this._fallbackDom);\n      }\n    }\n\n    if (newValue > this._value) {\n      this._eventEmitter.emit('valueIncreased', this._value, newValue);\n    }\n    if (newValue < this._value) {\n      this._eventEmitter.emit('valueDecreased', this._value, newValue);\n    }\n    if (newValue <= 0) {\n      this._eventEmitter.emit('valueBecameMinimum', this._value);\n    }\n    if (newValue >= this._options.maxValue) {\n      this._eventEmitter.emit('valueBecameMaximum', this._value);\n    }\n\n\n    if (newValue <= 0) {\n      this._eventEmitter.emit('valueBecameMinimum', this._value);\n    }\n\n    this._value = newValue;\n    this._momentum = 0;\n    this._eventEmitter.emit('valueChanged', this._value);\n  }\n\n  /**\n   * Gets the value\n   *\n   * @public\n   * @method getValue\n   * @returns {number} the current value\n   */\n  getValue() {\n    return this._value;\n  }\n\n  /**\n   * Sets the value for the specified option.\n   *\n   * @public\n   * @method setOption\n   * @param {string} optionName name of the option to set a value for\n   * @param {object} optionValue value to set the option to\n   * @returns {null}\n   */\n  setOption(optionName, optionValue) {\n    this._options[optionName] = optionValue;\n  }\n\n  /**\n   * Returns the value for the specified option.\n   *\n   * @public\n   * @method getOption\n   * @param {string} optionName name of the option to retrieve a value for\n   * @returns {object} the value of the specified option\n   */\n  getOption(optionName) {\n    return this._options[optionName];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/iris.worm.js","import WORM from './iris.worm';\n\nexport const Worm = WORM;\n\n\n// WEBPACK FOOTER //\n// ./src/_entry.js","export default class EventEmitter {\n\n  constructor(logger) {\n    this._events = {};\n  }\n\n  /**\n   * Sets a listener for the specified event name.\n   *\n   * @public\n   * @method on\n   * @param {string} eventName name of the event to listen to.\n   * @param {function} callback function to call when the event occurs.\n   */\n  on(eventName, callback) {\n    this._events[eventName] = this._events[eventName] || [];\n    this._events[eventName].push(callback);\n  }\n\n  /**\n   * Sets a listener for the specified event name.\n   *\n   * @public\n   * @method emit\n   * @param {string} eventName name of the event to emit.\n   * @param {any} arg1, arg2, arg3 arguments to yield to the functioun\n   */\n  emit(eventName, arg1, arg2, arg3) {\n    (this._events[eventName] || []).forEach((fn) => {\n      fn && fn(arg1, arg2, arg3)\n    });\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/event-emitter.js"],"sourceRoot":""}