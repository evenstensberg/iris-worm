{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ad147f1caa8c9db4d228","webpack:///./src/iris.worm.js","webpack:///./src/_entry.js","webpack:///./src/event-emitter.js"],"names":["Worm","width","height","maxValue","smoothMode","colorMode","acceleration","lineWidth","accessibilityBroadcast","div","options","_rootDiv","_options","DEFAULT_OPTIONS","_canvas","document","createElement","className","CSS_CONTAINER","_ctx","getContext","appendChild","_value","_metaValue","_oldMetaValue","_momentum","_active","_fallbackDom","setAttribute","_eventEmitter","_draw","requestAnimationFrame","bind","_moveViewport","_drawPoint","_resolveValues","distanceToValue","Math","abs","MAX_MOMENTUM","imageData","getImageData","putImageData","clearRect","colorUnit","bad","floor","_scaleValue","good","color","strokeStyle","beginPath","moveTo","lineTo","stroke","value","scale","name","NAME","VERSION","indexOf","remove","eventName","callback","self","on","a","b","c","call","newValue","innerText","emit","optionName","optionValue","EventEmitter","logger","_events","push","arg1","arg2","arg3","forEach","fn"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IRISWorm\"] = factory();\n\telse\n\t\troot[\"IRISWorm\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ad147f1caa8c9db4d228","import EventEmitter from './event-emitter';\n\nexport default class Worm {\n\n  get NAME() {\n    'IRIS Worm'\n  };\n  get VERSION() {\n    return null\n  } // TODO\n  get CSS_CONTAINER() {\n    return 'irisWorm'\n  };\n  get MAX_MOMENTUM() {\n    return 5\n  };\n\n  static get DEFAULT_OPTIONS() {\n    return {\n      // The width of the component\n      width: 600,\n\n      // The height of the component\n      height: 400,\n\n      // The maximum value that can be set in the component (used for scaling) -\n      // defaults to 100, meaning that \"100\" is the \"Top of the worm\".\n      maxValue: 100,\n\n      // When a value changes, the worm will accelerate towards that value smoothly\n      // if smoothMode is set to true, otherwise it will jump straight to it.\n      smoothMode: true,\n\n      // Color mode: options are: 'greenIsGood', 'greenIsBad', 'monochrome'\n      colorMode: 'greenIsGood',\n\n      // How quickly the worm accelerates towards its target (NOTE: this value really is only useful if you keep it\n      // below 1, otherwise you might as well just use smoothMode: false and have it instantly jumping)\n      acceleration: 0.1,\n\n      // How thick the line is\n      lineWidth: 5,\n\n      //how insistant the aria-live tag is. Default is polite;\n      //options are: off, polite, assertive\n      accessibilityBroadcast: 'polite'\n    }\n  };\n\n  /**\n   * Constructs a new IRIS Worm instance.\n   * @class IRIS.Worm\n   * @constructor Worm\n   * @example\n   *      new IRIS.Worm(div, options);\n   * @param {HTMLDivElement} div the div in which the visualisation will be rendered, e.g. '#map'\n   * @param options visualisation options (see 'options' property)\n   */\n  constructor(div, options = {}) {\n    this._rootDiv = div;\n    this._options = Object.assign({}, Worm.DEFAULT_OPTIONS);\n\n    // create canvas and context\n    this._canvas = document.createElement('canvas');\n    this._canvas.width = this._options.width;\n    this._canvas.height = this._options.height;\n    this._canvas.className = this.CSS_CONTAINER;\n    this._ctx = this._canvas.getContext('2d');\n    this._rootDiv.appendChild(this._canvas);\n\n    this._value = 50;\n    this._metaValue = 50;\n    this._oldMetaValue = 50;\n    this._momentum = 0.0;\n    this._active = false;\n\n    //create fallback DOM and add aria roles if the accessibilityBroadcast option isn't disabled\n    if (this._options.accessibilityBroadcast !== 'off') {\n      this._fallbackDom = document.createElement('span');\n      this._fallbackDom.setAttribute('role', 'alert');\n      this._fallbackDom.setAttribute('aria-live', this._options.accessibilityBroadcast);\n      this._fallbackDom.setAttribute('style', 'position:absolute;width:1px;' + '' +\n        'height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);');\n      this._rootDiv.appendChild(this._fallbackDom);\n    }\n\n    // Events\n    this._eventEmitter = new EventEmitter();\n  }\n\n  start() {\n    this._ctx.lineWidth = this._options.lineWidth;\n    this._active = true;\n    this._draw();\n  }\n\n  stop() {\n    this._active = false;\n  }\n\n  _draw() {\n    if (this._active) {\n      requestAnimationFrame(this._draw.bind(this));\n      this._moveViewport();\n      this._drawPoint();\n      this._resolveValues();\n    }\n  }\n\n  _resolveValues() {\n\n    if (this._options.smoothMode) {\n      var distanceToValue = Math.abs(this._value - this._metaValue);\n\n      if (distanceToValue < 0.1) {\n        this._metaValue = this._value;\n        this._momentum = 0;\n        return;\n      } else {\n        if (this._value < this._metaValue) {\n          if (this._momentum >= -this.MAX_MOMENTUM) {\n            this._momentum -= this._options.acceleration;\n          }\n        }\n        if (this._value > this._metaValue) {\n          if (this._momentum <= this.MAX_MOMENTUM) {\n            this._momentum += this._options.acceleration;\n          }\n        }\n\n        this._metaValue += (this._momentum * distanceToValue) / 100;\n      }\n      this._oldMetaValue = this._metaValue;\n    } else {\n      this._oldMetaValue = this._metaValue;\n      this._metaValue = this._value;\n    }\n\n  }\n\n  _moveViewport() {\n    var imageData = this._ctx.getImageData(1, 0, this._options.width - 1, this._options.height);\n    this._ctx.putImageData(imageData, 0, 0);\n    this._ctx.clearRect(this._options.width - 1, 0, 1, this._options.height);\n\n    // this thing is known to be leaky so let's force explicit garbage collecion.\n    imageData = null;\n  }\n\n  _drawPoint() {\n\n    var colorUnit = (255 / this._options.height);\n    var bad = Math.floor(colorUnit * this._scaleValue(this._metaValue));\n    var good = 255 - Math.floor(colorUnit * this._scaleValue(this._metaValue));\n    var color;\n\n    switch (this._options.colorMode) {\n      case 'monochrome':\n        color = 'rgb(0,0,0)';\n        break;\n      case 'greenIsBad':\n        color = 'rgb(' + good + ',' + bad + ',0)';\n        break;\n      case 'greenIsGood':\n      default:\n        color = 'rgb(' + bad + ',' + good + ',0)';\n    }\n\n    this._ctx.strokeStyle = color;\n\n    this._ctx.beginPath();\n    this._ctx.moveTo(this._options.width, this._scaleValue(this._metaValue));\n    this._ctx.lineTo(this._options.width - 1, this._scaleValue(this._oldMetaValue));\n    this._ctx.stroke();\n  }\n\n  _scaleValue(value) {\n    var scale = this._options.height / this._options.maxValue;\n\n\n    return this._options.height - (value * scale);\n  }\n\n  /**\n   * Returns the name (and version, if available) of this widget.\n   *\n   * @private\n   * @method _getName\n   * @returns {string} name (and version, if available) of this widget\n   */\n  _getName() {\n    var name = this.NAME;\n    // if we appear to have a version\n    if (this.VERSION.indexOf('<%=') !== 0) {\n      name = this.NAME + ' ' + this.VERSION;\n    }\n    return name;\n  }\n\n  /**\n   * Deconstructor\n   *\n   * @public\n   * @method destroy\n   */\n  destroy() {\n    if (typeof this._canvas !== 'undefined' && this._canvas != null) {\n      this._canvas.remove();\n      delete this._canvas;\n    }\n  }\n\n\n  /**\n   * Hook into a worm event.\n   *\n   * @public\n   * @method on\n   * @param {string} eventName the event to hook into\n   * @param {function} callback the callback to run\n   * @returns {null}\n   */\n  on(eventName, callback) {\n    var self = this;\n    this._eventEmitter.on(eventName, (a, b, c) => callback.call(self, a, b, c));\n  }\n\n\n  /**\n   * Sets the value\n   *\n   * @public\n   * @method setValue\n   * @param {number} optionValue value to set the option to\n   * @returns {null}\n   */\n  setValue(newValue) {\n\n    if (newValue > this._options.maxValue) {\n      newValue = this._options.maxValue;\n    }\n    if (this._options.accessibilityBroadcast !== 'off') {\n      if (this._fallbackDom && this._fallbackDom.remove) {\n        this._fallbackDom.remove();\n        this._fallbackDom.innerText = 'worm value is ' + newValue;\n        this._rootDiv.appendChild(this._fallbackDom);\n      }\n    }\n\n    if (newValue > this._value) {\n      this._eventEmitter.emit('valueIncreased', this._value, newValue);\n    }\n    if (newValue < this._value) {\n      this._eventEmitter.emit('valueDecreased', this._value, newValue);\n    }\n    if (newValue <= 0) {\n      this._eventEmitter.emit('valueBecameMinimum', this._value);\n    }\n    if (newValue >= this._options.maxValue) {\n      this._eventEmitter.emit('valueBecameMaximum', this._value);\n    }\n\n\n    if (newValue <= 0) {\n      this._eventEmitter.emit('valueBecameMinimum', this._value);\n    }\n\n    this._value = newValue;\n    this._momentum = 0;\n    this._eventEmitter.emit('valueChanged', this._value);\n  }\n\n  /**\n   * Gets the value\n   *\n   * @public\n   * @method getValue\n   * @returns {number} the current value\n   */\n  getValue() {\n    return this._value;\n  }\n\n  /**\n   * Sets the value for the specified option.\n   *\n   * @public\n   * @method setOption\n   * @param {string} optionName name of the option to set a value for\n   * @param {object} optionValue value to set the option to\n   * @returns {null}\n   */\n  setOption(optionName, optionValue) {\n    this._options[optionName] = optionValue;\n  }\n\n  /**\n   * Returns the value for the specified option.\n   *\n   * @public\n   * @method getOption\n   * @param {string} optionName name of the option to retrieve a value for\n   * @returns {object} the value of the specified option\n   */\n  getOption(optionName) {\n    return this._options[optionName];\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/iris.worm.js","import WORM from './iris.worm';\n\nexport const Worm = WORM;\n\n\n// WEBPACK FOOTER //\n// ./src/_entry.js","export default class EventEmitter {\n\n  constructor(logger) {\n    this._events = {};\n  }\n\n  /**\n   * Sets a listener for the specified event name.\n   *\n   * @public\n   * @method on\n   * @param {string} eventName name of the event to listen to.\n   * @param {function} callback function to call when the event occurs.\n   */\n  on(eventName, callback) {\n    this._events[eventName] = this._events[eventName] || [];\n    this._events[eventName].push(callback);\n  }\n\n  /**\n   * Sets a listener for the specified event name.\n   *\n   * @public\n   * @method emit\n   * @param {string} eventName name of the event to emit.\n   * @param {any} arg1, arg2, arg3 arguments to yield to the functioun\n   */\n  emit(eventName, arg1, arg2, arg3) {\n    (this._events[eventName] || []).forEach((fn) => {\n      fn && fn(arg1, arg2, arg3)\n    });\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/event-emitter.js"],"sourceRoot":""}